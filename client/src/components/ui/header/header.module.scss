/* ========================================
   Header module â€“ modern, responsive, RTL-safe
   ======================================== */

/* Fonts (Peyda) */
@font-face {
  font-family: "Peyda";
  src: url("/fonts/peyda/Peyda-Regular.woff2") format("woff2");
  font-weight: 400;
  font-display: swap;
}
@font-face {
  font-family: "Peyda";
  src: url("/fonts/peyda/Peyda-Medium.woff2") format("woff2");
  font-weight: 500;
  font-display: swap;
}
@font-face {
  font-family: "Peyda";
  src: url("/fonts/peyda/Peyda-Bold.woff2") format("woff2");
  font-weight: 700;
  font-display: swap;
}

html { scroll-behavior: smooth; }

:root {
  --hdr-h: 72px;
  --max-w: 1280px;

  --hdr-bg: #ffffffcc; /* translucent for glass effect */
  --hdr-fg: #0f172a;
  --hdr-muted: #64748b;
  --hdr-border: #e2e8f0;

  --brand-size: clamp(14px, 1.4vw, 18px);
  --gap: 14px;

  --cta-bg: #2563eb;
  --cta-fg: #fff;
  --cta-bg-hover: #1d4ed8;

  --btn-bg: #f8fafc;
  --btn-fg: #0f172a;
  --btn-bg-hover: #e2e8f0;

  --shadow: 0 6px 28px rgba(0,0,0,.10);
  --radius: 12px;

  color-scheme: light;
}

html[data-theme="dark"] {
  --hdr-bg: #0b1220cc;
  --hdr-fg: #e5e7eb;
  --hdr-muted: #9aa4b2;
  --hdr-border: #1f2937;

  --btn-bg: #111827;
  --btn-fg: #e5e7eb;
  --btn-bg-hover: #1a2333;

  --cta-bg: #3b82f6;
  --cta-fg: #0b1220;
  --cta-bg-hover: #60a5fa;

  --shadow: 0 8px 30px rgba(0,0,0,.45);
  color-scheme: dark;
}

/* Header shell */
.header {
  position: sticky;
  top: 0;
  inset-inline: 0;
  z-index: 100;
  background: var(--hdr-bg);
  color: var(--hdr-fg);
  border-bottom: 1px solid var(--hdr-border);
  box-shadow: none;
  transition: box-shadow .3s ease, background-color .3s ease, border-color .3s ease;
  font-family: "Peyda", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
  backdrop-filter: saturate(160%) blur(10px);

  will-change: background-color, box-shadow;
}
.scrolled { box-shadow: var(--shadow); }

.container {
  max-width: var(--max-w);
  margin-inline: auto;
  padding-block: .75rem;
  padding-inline: max(1.25rem, env(safe-area-inset-left)) max(1.25rem, env(safe-area-inset-right));
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  grid-template-areas: "left nav right";
  align-items: center;
  gap: var(--gap);
  min-block-size: var(--hdr-h);
}

/* Areas */
.left  { grid-area: left;  display: flex; align-items: center; gap: var(--gap); }
.nav   { grid-area: nav;   display: flex; align-items: center; justify-content: center; }
.right { grid-area: right; display: flex; align-items: center; justify-content: flex-end; gap: var(--gap); }

/* Brand */
.brand { display: flex; align-items: center; }
.brandBtn {
  display: inline-flex; align-items: center; gap: 10px;
  padding: 6px 10px; border-radius: var(--radius);
  background: transparent; border: 0; color: var(--hdr-fg);
  text-decoration: none; cursor: pointer;
  transition: background-color .2s ease;
}
.brandBtn:hover { background: var(--btn-bg-hover); }
.logo  { inline-size: 36px; block-size: 36px; object-fit: contain; }
.title { font-size: var(--brand-size); font-weight: 700; color: var(--hdr-fg); white-space: nowrap; line-height: 1.3; }

/* Burger (animated) */
.burger {
  display: none;
  inline-size: 42px; block-size: 42px;
  padding: 10px;
  border: 1px solid var(--hdr-border); border-radius: 10px;
  background: var(--btn-bg);
  cursor: pointer; position: relative;
  transition: background-color .25s ease, border-color .25s ease;
}
.burger span {
  display: block; width: 100%; height: 2px; background: var(--hdr-fg);
  border-radius: 2px; transition: transform .3s ease, opacity .3s ease;
}
.burger span:nth-child(1) { transform-origin: top left; }
.burger span:nth-child(3) { transform-origin: bottom left; }
.burger[aria-expanded="true"] span:nth-child(1) { transform: rotate(45deg) translateY(4px); }
.burger[aria-expanded="true"] span:nth-child(2) { opacity: 0; }
.burger[aria-expanded="true"] span:nth-child(3) { transform: rotate(-45deg) translateY(-4px); }
.burger:hover { background: var(--btn-bg-hover); }

/* Nav */
.menu { display: flex; align-items: center; gap: 10px; list-style: none; margin: 0; padding: 0; }
.menuItem {
  position: relative; padding: 10px 14px; border-radius: 10px;
  background: transparent; color: var(--hdr-fg); font-size: 15px; font-weight: 600;
  text-decoration: none; cursor: pointer; transition: color .2s ease, background-color .2s ease;
}
.menuItem:hover { background: var(--btn-bg-hover); }
.isActive { color: var(--cta-bg); }

/* Buttons / switches */
.actions, .navActions { display: inline-flex; align-items: center; gap: 10px; }
.primaryCta {
  background: var(--cta-bg); color: var(--cta-fg);
  border: 0; padding: 10px 16px; border-radius: 10px; font-weight: 700; cursor: pointer;
  transition: background-color .25s ease;
}
.primaryCta:hover { background: var(--cta-bg-hover); }

.secondary, .langBtn, .themeBtn {
  background: var(--btn-bg); color: var(--btn-fg);
  border: 1px solid var(--hdr-border); border-radius: 10px;
  padding: 9px 12px; min-inline-size: 42px; block-size: 40px;
  display: inline-flex; align-items: center; justify-content: center; gap: 8px;
  cursor: pointer; transition: background-color .25s ease, border-color .25s ease;
}
.secondary:hover, .langBtn:hover, .themeBtn:hover { background: var(--btn-bg-hover); }
.langBtn:focus-visible, .themeBtn:focus-visible { outline: none; box-shadow: 0 0 0 3px rgba(37,99,235,.4); }

/* Mobile drawer */
.mobileRoot { position: fixed; inset: 0; z-index: 130; display: flex; justify-content: space-between; }
.mobileBackdrop { position: absolute; inset: 0; background: rgba(0,0,0,.35); backdrop-filter: blur(2px); animation: fadeIn .25s ease; }
.mobilePanel {
  position: absolute; inset-inline: 0; top: var(--hdr-h);
  background: var(--hdr-bg); border-bottom: 1px solid var(--hdr-border); box-shadow: var(--shadow);
  border-bottom-left-radius: 16px; border-bottom-right-radius: 16px;
  padding: 16px 20px 20px; animation: slideDown .25s ease;
}
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes slideDown { from { transform: translateY(-10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

.mobileBlock { margin-block: 8px; display: flex; justify-content: space-between; gap: 12px; flex-wrap: wrap; }
.mobileList  { display: flex; flex-direction: column; gap: 10px; margin-top: 12px; }
.mobileItem  {
  display: block; padding: 12px 14px; border-radius: 10px;
  background: var(--btn-bg); border: 1px solid var(--hdr-border);
  color: var(--hdr-fg); text-decoration: none; font-size: 16px; font-weight: 600;
  transition: background-color .2s ease;
}
.mobileItem:hover { background: var(--btn-bg-hover); }

/* Responsive */
@media (max-width: 1024px) {
  .container { grid-template-columns: auto 1fr auto; grid-template-areas: "left . ."; }
  .burger { display: inline-block; }
  .nav, .right { display: none; }
  .logo  { inline-size: 44px; block-size: 44px; }
  .title { font-size: clamp(16px, 4.8vw, 22px); }
}

@media (max-width: 480px) {
  .title { display: none; }
  .burger { inline-size: 48px; block-size: 48px; }
}

// /* Motion */
// @media (prefers-reduced-motion: reduce) {
//   * { transition: none !important; animation: none !important; }
// }
